/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./src/main.js\");\n\n\n//# sourceURL=webpack://calc/./src/index.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _lib_lib_binder_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/lib/binder.js */ \"../lib/lib/binder.js\");\n\nvar v = document.getElementById(\"v\");\nvar calc = {};\ncalc.frame = 0;\ncalc.fps = 60;\ncalc.dt = 1;\nvar cancel = false;\nvar binder = new _lib_lib_binder_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\nv.addEventListener(\"seeked\", function (e) {\n  var old = calc.frame;\n  calc.frame = v.currentTime;\n});\nwindow.main = {};\nvar presson = false;\n\nmain.changeFrame = function (f) {\n  var f2 = f;\n\n  if (presson) {\n    f2 = f * 5;\n  }\n\n  if (isNaN(v.duration)) {\n    return;\n  }\n\n  calc.frame = Math.min(Math.max(calc.frame + f2 / calc.fps, 0), v.duration);\n  v.currentTime = calc.frame;\n  presson = true; //\twindow.setTimeout(()=>{\n  //\t\tif(!presson){\n  //\t\t\treturn;\n  //\t\t}\n  //\t\tmain.changeFrame(f)}\n  //\t\t,400\n  //\t);\n};\n\nmain.changeSec = function (s) {\n  main.changeFrame(s * calc.fps);\n};\n\nmain.recalc = function () {\n  calc.recv = Math.abs(calc.bst0 - calc.bst1) / calc.dt;\n};\n\nmain.recalc2 = function () {\n  calc.dt2 = Math.abs(calc.bst2 - calc.bst3) / calc.recv;\n  calc.spd1 = 8833 / calc.dt2;\n  calc.extend = calc.spd1 * ((calc.range - 0.5) / 100) / 2.5;\n  calc.extend2 = calc.spd1 * (9.5 - 1.5) / 100;\n};\n\nmain.recalc3 = function () {\n  calc.dt3 = Math.abs(calc.bst4 - calc.bst5) / calc.dash_cost;\n  calc.dash = 200 * calc.dash_cycle / calc.dt3;\n};\n\nmain.recalc4 = function () {\n  calc.increase = 1000 / calc.increase_time;\n};\n\ndocument.addEventListener(\"pointerup\", function () {\n  presson = false;\n});\ndocument.addEventListener(\"change\", function (e) {});\ndocument.getElementById(\"file\").addEventListener(\"change\", function (e) {\n  var file = this.files[0];\n  calc.frame = 0; // FileReaderを生成\n\n  var fileReader = new FileReader();\n  calc.filename = file.name; // 読み込み完了時の処理を追加\n\n  fileReader.onload = function () {\n    v.src = this.result;\n  }; // ファイルの読み込み(Data URI Schemeの取得)\n\n\n  fileReader.readAsDataURL(file);\n});\nbinder.init(calc);\n\n//# sourceURL=webpack://calc/./src/main.js?");

/***/ }),

/***/ "../lib/lib/binder.js":
/*!****************************!*\
  !*** ../lib/lib/binder.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Binder; }\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"../lib/lib/util.js\");\n/* harmony import */ var _watcher_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./watcher.js */ \"../lib/lib/watcher.js\");\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n//バインド\n\n\nvar watcher = new _watcher_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\nvar Bind = /*#__PURE__*/function () {\n  function Bind(node, variable) {\n    _classCallCheck(this, Bind);\n\n    this.node = node;\n    this.attribute_name = \"\";\n    this.variables = [];\n    this.watches = [];\n  }\n\n  _createClass(Bind, [{\n    key: \"feedBack\",\n    value: function feedBack(value) {\n      if (value === undefined) {\n        var node = this.node;\n\n        if (node.getAttribute(\"type\") === \"checkbox\") {\n          value = node.checked;\n        } else if (node.getAttribute(\"type\") === \"radio\") {\n          value = node.value;\n        } else {\n          value = node.value;\n\n          if (node.hasAttribute(\"number\")) {\n            value = Number(value);\n          }\n        }\n      } //バインド変数にコントロールの値をセットする\n\n\n      var val = this.watches[0].setValue(value);\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      //バインドされた変数の値をノード属性にセット\n      var bind = this;\n      var check = false;\n      this.watches.forEach(function (w, idx) {\n        if (w.change_flg) {\n          check = true;\n        }\n      });\n\n      if (!check) {\n        return;\n      }\n\n      var node = bind.node;\n      var value = bind.watches[0].getValue(0);\n\n      if (bind.func) {\n        var old = bind.watches.map(function (w) {\n          return w.old_value;\n        });\n        value = bind.func(old);\n      }\n\n      if (bind.attribute_name !== \"\") {\n        node.setAttribute(bind.attribute_name, value);\n        return;\n      }\n\n      node.setAttribute(\"content\", value);\n\n      switch (node.tagName) {\n        case \"INPUT\":\n        case \"SELECT\":\n        case \"TEXTAREA\":\n          if (node.getAttribute(\"type\") === \"checkbox\") {\n            node.checked = value;\n          }\n\n          if (node.getAttribute(\"type\") === \"radio\") {\n            node.checked = Boolean(value === node.value);\n          } else {\n            node.value = value;\n          }\n\n          _util_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].fireEvent(node, \"input\");\n          break;\n\n        default:\n          if (value && (value instanceof HTMLElement || value.nodeName)) {\n            node.innerHTML = \"\";\n            node.appendChild(value);\n          } else {\n            node.textContent = value;\n          }\n\n      }\n    }\n  }]);\n\n  return Bind;\n}();\n\nvar Binder = /*#__PURE__*/function () {\n  function Binder() {\n    _classCallCheck(this, Binder);\n\n    this.binds = [];\n    this.variable_root = window;\n  }\n\n  _createClass(Binder, [{\n    key: \"init\",\n    value: function init(_variable_root) {\n      var _this = this;\n\n      //初期化&バインド\n      if (_variable_root) {\n        this.variable_root = _variable_root;\n      } //this.binds=[];\n\n\n      var bindedNodes = document.querySelectorAll(\"*\");\n      bindedNodes.forEach(function (node) {\n        for (var i = 0; i < node.attributes.length; i++) {\n          var attribute_name = node.attributes[i].name;\n          if (attribute_name.indexOf(\"bind:\") !== 0) continue;\n          var variable_names = node.getAttribute(attribute_name);\n          variable_names = variable_names.split(\",\");\n          attribute_name = attribute_name.replace(\"bind:\", \"\");\n          var func = null;\n\n          if (node.hasAttribute(\"bindfunc\")) {\n            func = node.getAttribute(\"bindfunc\");\n            func = new Function('arg', func);\n          }\n\n          _this.bind(node, attribute_name, null, variable_names, func);\n        }\n\n        ;\n      });\n\n      var func = function func() {\n        _this.refresh();\n\n        window.requestAnimationFrame(func);\n      };\n\n      func();\n    }\n  }, {\n    key: \"bind\",\n    value: function bind(node, attribute_name, variable_root, variable_names, func) {\n      var bind = this.binds.find(function (e) {\n        return e.node == node && e.attribute_name == attribute_name;\n      });\n\n      if (bind) {\n        return bind;\n      } //ノードとバインド変数を渡してバインド情報を登録する\n\n\n      bind = new Bind();\n      bind.node = node;\n      bind.attribute_name = attribute_name;\n\n      if (!variable_root) {\n        variable_root = this.variable_root;\n      }\n\n      if (!Array.isArray(variable_names)) {\n        variable_names = [variable_names];\n      }\n\n      variable_names.forEach(function (name) {\n        bind.watches.push(watcher.watch(variable_root, name));\n      });\n      bind.func = func;\n      bind.binder = this;\n      this.binds.push(bind);\n\n      if (node.hasAttribute(\"feedback\")) {\n        var f = node.getAttribute(\"feedback\");\n\n        if (f != null && f != \"\") {\n          bind.feedBack2 = Function(f);\n        }\n\n        node.addEventListener(\"change\", function () {\n          bind.feedBack();\n\n          if (bind.feedBack2) {\n            bind.feedBack2();\n          }\n        });\n      }\n\n      return bind;\n    }\n  }, {\n    key: \"bindNodes\",\n    value: function bindNodes(node, variable_root) {\n      var _this2 = this;\n\n      var bindedNodes = node.querySelectorAll(\"*\");\n      bindedNodes.forEach(function (node) {\n        for (var i = 0; i < node.attributes.length; i++) {\n          var attribute_name = node.attributes[i].name;\n          if (attribute_name.indexOf(\"bind:\") !== 0) continue;\n          var variable_name = node.getAttribute(attribute_name);\n          attribute_name = attribute_name.replace(\"bind:\", \"\");\n\n          _this2.bind(node, attribute_name, variable_root, variable_name);\n        }\n\n        ;\n      });\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      watcher.refresh(); //バインドしたノードに変数の値をセット\n\n      for (var i = 0; i < this.binds.length; i++) {\n        this.binds[i].refresh();\n      }\n    }\n  }]);\n\n  return Binder;\n}();\n\n\n\n//# sourceURL=webpack://calc/../lib/lib/binder.js?");

/***/ }),

/***/ "../lib/lib/fpsman.js":
/*!****************************!*\
  !*** ../lib/lib/fpsman.js ***!
  \****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Fpsman; }\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classPrivateFieldInitSpec(obj, privateMap, value) { _checkPrivateRedeclaration(obj, privateMap); privateMap.set(obj, value); }\n\nfunction _checkPrivateRedeclaration(obj, privateCollection) { if (privateCollection.has(obj)) { throw new TypeError(\"Cannot initialize the same private elements twice on an object\"); } }\n\nfunction _classPrivateFieldGet(receiver, privateMap) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"get\"); return _classApplyDescriptorGet(receiver, descriptor); }\n\nfunction _classApplyDescriptorGet(receiver, descriptor) { if (descriptor.get) { return descriptor.get.call(receiver); } return descriptor.value; }\n\nfunction _classPrivateFieldSet(receiver, privateMap, value) { var descriptor = _classExtractFieldDescriptor(receiver, privateMap, \"set\"); _classApplyDescriptorSet(receiver, descriptor, value); return value; }\n\nfunction _classExtractFieldDescriptor(receiver, privateMap, action) { if (!privateMap.has(receiver)) { throw new TypeError(\"attempted to \" + action + \" private field on non-instance\"); } return privateMap.get(receiver); }\n\nfunction _classApplyDescriptorSet(receiver, descriptor, value) { if (descriptor.set) { descriptor.set.call(receiver, value); } else { if (!descriptor.writable) { throw new TypeError(\"attempted to set read only private field\"); } descriptor.value = value; } }\n\nvar _fps = /*#__PURE__*/new WeakMap();\n\nvar _spf = /*#__PURE__*/new WeakMap();\n\nvar _fpserror = /*#__PURE__*/new WeakMap();\n\nvar _fpserrordelta = /*#__PURE__*/new WeakMap();\n\nvar _nextsleep = /*#__PURE__*/new WeakMap();\n\nvar _mainfunc = /*#__PURE__*/new WeakMap();\n\nvar Fpsman = /*#__PURE__*/function () {\n  //1frameあたりの時間[ms]\n  //蓄積誤差[ms]\n  //1secあたりの想定誤差[ms]\n  //次回実行時間\n  //1frameごとに実行する関数\n  function Fpsman(fps, mainfunc) {\n    var _this = this;\n\n    _classCallCheck(this, Fpsman);\n\n    _classPrivateFieldInitSpec(this, _fps, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _spf, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _fpserror, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _fpserrordelta, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _nextsleep, {\n      writable: true,\n      value: void 0\n    });\n\n    _classPrivateFieldInitSpec(this, _mainfunc, {\n      writable: true,\n      value: void 0\n    });\n\n    _defineProperty(this, \"mainloop\", function () {\n      var nowTime = performance.now(); //現在時間\n\n      var dt = _classPrivateFieldGet(_this, _nextsleep) - nowTime; //想定時間との差異\n      //時間差異が1frameぶんより大きい場合は次回の呼び出し時間を補正する\n\n      if (dt > _classPrivateFieldGet(_this, _spf)) dt = _classPrivateFieldGet(_this, _spf);\n      if (dt < -_classPrivateFieldGet(_this, _spf)) dt = -_classPrivateFieldGet(_this, _spf); //ミリ秒で割り切れない分の誤差の端数処理\n\n      _classPrivateFieldSet(_this, _fpserror, _classPrivateFieldGet(_this, _fpserror) + _classPrivateFieldGet(_this, _fpserrordelta));\n\n      if (_classPrivateFieldGet(_this, _fpserror) >= _classPrivateFieldGet(_this, _fps)) {\n        //時間誤差が1msを超えたら次回1ms増やす\n        _classPrivateFieldSet(_this, _fpserror, _classPrivateFieldGet(_this, _fpserror) - _classPrivateFieldGet(_this, _fps));\n\n        dt += 1;\n      } //次回実行時間\n\n\n      _classPrivateFieldSet(_this, _nextsleep, nowTime + _classPrivateFieldGet(_this, _spf) + dt);\n\n      _classPrivateFieldGet(_this, _mainfunc).call(_this); //メイン処理\n\n\n      nowTime = performance.now(); //現在時間再取得\n\n      dt = Math.max(1, _classPrivateFieldGet(_this, _nextsleep) - nowTime); //次回実行時間の差異を取得(最低1ms)\n\n      setTimeout(_this.mainloop, dt);\n    });\n\n    this.setFps(fps);\n\n    _classPrivateFieldSet(this, _mainfunc, mainfunc);\n  }\n\n  _createClass(Fpsman, [{\n    key: \"setFps\",\n    value: function setFps(fps) {\n      if (_classPrivateFieldGet(this, _fps) === fps) {\n        return;\n      }\n\n      _classPrivateFieldSet(this, _fps, fps | 0);\n\n      _classPrivateFieldSet(this, _spf, 1000 / _classPrivateFieldGet(this, _fps) | 0);\n\n      _classPrivateFieldSet(this, _fpserror, 0);\n\n      _classPrivateFieldSet(this, _fpserrordelta, 1000 % _classPrivateFieldGet(this, _fps));\n\n      _classPrivateFieldSet(this, _nextsleep, 0);\n    }\n  }]);\n\n  return Fpsman;\n}();\n\n\n\n//# sourceURL=webpack://calc/../lib/lib/fpsman.js?");

/***/ }),

/***/ "../lib/lib/util.js":
/*!**************************!*\
  !*** ../lib/lib/util.js ***!
  \**************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Util; }\n/* harmony export */ });\n/* harmony import */ var _fpsman_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fpsman.js */ \"../lib/lib/fpsman.js\");\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nwindow.globalParam = {};\nvar myIE = document.all; //IEflg\n\nvar ua = window.navigator.userAgent.toLowerCase();\n\nif (ua.indexOf(\"windows\" !== -1)) {\n  globalParam.windows = 1;\n}\n\nvar i = 0,\n    keymap = new Array(256);\n[37, 38, 39, 40, ' '.charCodeAt(0), 'X'.charCodeAt(0), 'C'.charCodeAt(0), 'V'.charCodeAt(0), 'A'.charCodeAt(0), 'W'.charCodeAt(0), 'D'.charCodeAt(0), 'S'.charCodeAt(0), 'F'.charCodeAt(0), 'G'.charCodeAt(0), 'H'.charCodeAt(0), 'J'.charCodeAt(0)].forEach(function (e, idx) {\n  keymap[e] = idx;\n});\nvar virtualPad = null;\nvar virtualPadP = null;\nvar virtualBtn = null;\n\nvar Util = /*#__PURE__*/function () {\n  function Util() {\n    _classCallCheck(this, Util);\n  }\n\n  _createClass(Util, null, [{\n    key: \"getLoadingCount\",\n    value: function getLoadingCount() {\n      return Util.loadingCount;\n    }\n  }, {\n    key: \"mainloop\",\n    value: function mainloop() {\n      var dx, dy;\n      Util.tap = 0;\n\n      if (Util.pressOn) {\n        Util.pressCount = Util.pressCount + 1;\n\n        if (Util.pressCount == 1) {\n          Util.oldcursorX2 = Util.cursorX;\n          Util.oldcursorY2 = Util.cursorY;\n          Util.oldcursorX = Util.cursorX;\n          Util.oldcursorY = Util.cursorY;\n        }\n      } else if (Util.pressCount > 0) {\n        dx = Util.cursorX - Util.oldcursorX2;\n        dy = Util.cursorY - Util.oldcursorY2;\n\n        if (Util.pressCount < 10 && dx * dx + dy * dy < 16) {\n          Util.tap = 1;\n        }\n\n        Util.pressCount = -1;\n      } else Util.pressCount = 0;\n\n      if (Util.pressOnRight) {\n        Util.pressCountRight += 1;\n      } else {\n        Util.pressCountRight = 0;\n      } //if(loadingCount ==0){\n\n\n      Util.mainfunc(); //}\n\n      Util.oldcursorX = Util.cursorX;\n      Util.oldcursorY = Util.cursorY;\n      var i;\n\n      for (i = Util.keyflag.length; i--;) {\n        Util.keyflagOld[i] = Util.keyflag[i];\n      }\n    }\n  }, {\n    key: \"loadImage\",\n    value: function loadImage(url, norepeat, func) {\n      var image = new Image();\n      var flg = true;\n      if (globalParam.files) for (var i = 0, f; f = globalParam.files[i]; i++) {\n        if (escape(f.name) == url) {\n          //ローカルファイルの場合\n          var reader = new FileReader();\n\n          reader.onload = function (e) {\n            image.src = e.target.result;\n          };\n\n          reader.readAsDataURL(f);\n          flg = false;\n          break;\n        }\n      }\n\n      if (flg) {\n        //リモートファイルの場合\n        image.src = url;\n      } //ロードカウンタを増やす\n\n\n      Util.loadingCount++;\n\n      image.onerror = function () {\n        //エラーの場合減らす\n        Util.loadingCount--;\n      };\n\n      console.log(\"load start\", url); //読み込みが終わっていない場合はイベントリスナ登録\n\n      image.addEventListener(\"load\", function (e) {\n        if (!image.pat) {\n          console.log(\"load end\", image); //ロード処理(1回のみ)\n          //ロードカウンタを減らす\n\n          Util.loadingCount--;\n\n          if (norepeat) {\n            image.pat = Util.ctx.createPattern(image, \"no-repeat\");\n          } else {\n            image.pat = Util.ctx.createPattern(image, \"repeat\");\n          }\n\n          Util.imagedatacontext.clearRect(0, 0, Util.imagedatacanvas.width, Util.imagedatacanvas.height);\n          Util.imagedatacontext.drawImage(image, 0, 0);\n\n          if (Util.imagedatacontext.getImageData) {\n            image.imagedata = Util.imagedatacontext.getImageData(0, 0, image.width, image.height);\n          }\n        }\n\n        if (func) {\n          //コールバック指定がある場合は行う\n          func(image);\n        }\n      });\n      return image;\n    }\n  }, {\n    key: \"loadText\",\n    value: function loadText(url, callback) {\n      var flg = true;\n      var filename_ex = url.match(\"([^/]+?)([\\?#;].*)?$\")[1];\n\n      if (globalParam.files) {\n        for (var i = 0, f; f = globalParam.files[i]; i++) {\n          if (escape(f.name) == filename_ex) {\n            var reader = new FileReader();\n\n            reader.onload = function (e) {\n              var buf = e.target.result;\n\n              if (callback) {\n                callback(buf);\n              }\n            };\n\n            reader.readAsText(f);\n            flg = false;\n            break;\n          }\n        }\n      }\n\n      if (!flg) {\n        return null;\n      }\n\n      var request = Util.createXMLHttpRequest();\n      request.open(\"GET\", url, true);\n\n      request.onload = function (e) {\n        if (request.status == 200 || request.status == 304) {\n          var buf = request.responseText;\n\n          if (callback) {\n            callback(buf);\n          }\n        } else {\n          if (callback) {\n            callback(null);\n          }\n        }\n\n        Util.loadingCount--;\n        console.log(\"loadtext end\", Util.loadingCount);\n      };\n\n      request.onerror = function (e) {\n        if (callback) {\n          callback(null);\n        }\n\n        Util.loadingCount--;\n        console.log(\"loadtext failed\", Util.loadingCount);\n      };\n\n      console.log(\"loadtext start\", url);\n      Util.loadingCount++;\n      request.send(\"\");\n      return request;\n    }\n  }, {\n    key: \"loadFile\",\n    value: function loadFile(file, callback) {\n      var reader = new FileReader();\n\n      reader.onload = function (e) {\n        if (callback) {\n          callback(e.target.result);\n        }\n      };\n\n      reader.readAsDataURL(file);\n    }\n  }, {\n    key: \"loadBinary\",\n    value: function loadBinary(url, _callback) {\n      if (typeof url !== \"string\") {\n        Util.loadFile(url, function (url) {\n          Util.loadBinary(url, _callback);\n        });\n        return null;\n      }\n\n      var callback = _callback;\n\n      var cfunc = function cfunc(buf) {\n        if (callback) {\n          callback(buf);\n        }\n\n        Util.loadingCount--;\n        console.log(\"loadbinary end\", Util.loadingCount);\n      };\n\n      console.log(\"loadbinary start\", url);\n      Util.loadingCount++;\n      var request = Util.createXMLHttpRequest();\n      request.open(\"GET\", url, true);\n      request.responseType = \"arraybuffer\";\n\n      request.onload = function (e) {\n        cfunc(request.response);\n      };\n\n      request.send(\"\");\n    }\n  }, {\n    key: \"rgb\",\n    value: function rgb(r, g, b) {\n      r = (0x100 | r * 255).toString(16);\n      g = (0x100 | g * 255).toString(16);\n      b = (0x100 | b * 255).toString(16);\n      return \"#\" + r.slice(-2) + g.slice(-2) + b.slice(-2);\n    }\n  }, {\n    key: \"str2rgba\",\n    value: function str2rgba(rgba, str) {\n      var sp = str.split(\",\");\n      rgba[0] = Number(sp[0]);\n      rgba[1] = Number(sp[1]);\n      rgba[2] = Number(sp[2]);\n      rgba[3] = Number(sp[3]);\n      return rgba;\n    }\n  }, {\n    key: \"rgba\",\n    value: function rgba(r, g, b, a) {\n      return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n    }\n  }, {\n    key: \"hsv2rgb\",\n    value: function hsv2rgb(rgb, hsv) {\n      //hsvをrgbに変換\n      var f;\n      var i, p, q, t;\n      var v = hsv[2];\n      var h = hsv[0];\n      var s = hsv[1];\n      i = (h * 6 | 0) % 6;\n      f = h * 6 - (h * 6 | 0);\n      p = v * (1.0 - s);\n      q = v * (1.0 - s * f);\n      t = v * (1.0 - s * (1.0 - f));\n\n      switch (i) {\n        case 0:\n          rgb[0] = v;\n          rgb[1] = t;\n          rgb[2] = p;\n          break;\n\n        case 1:\n          rgb[0] = q;\n          rgb[1] = v;\n          rgb[2] = p;\n          break;\n\n        case 2:\n          rgb[0] = p;\n          rgb[1] = v;\n          rgb[2] = t;\n          break;\n\n        case 3:\n          rgb[0] = p;\n          rgb[1] = q;\n          rgb[2] = v;\n          break;\n\n        case 4:\n          rgb[0] = t;\n          rgb[1] = p;\n          rgb[2] = v;\n          break;\n\n        case 5:\n          rgb[0] = v;\n          rgb[1] = p;\n          rgb[2] = q;\n          break;\n      }\n\n      return rgb;\n    }\n  }, {\n    key: \"rgb2hex\",\n    value: function rgb2hex(rgb) {\n      //rgbを16進数の文字列に変換\n      var r = (0x100 | rgb[0] * 255).toString(16);\n      var g = (0x100 | rgb[1] * 255).toString(16);\n      var b = (0x100 | rgb[2] * 255).toString(16);\n      return r.slice(-2) + g.slice(-2) + b.slice(-2);\n    }\n  }, {\n    key: \"rgb2hsv\",\n    value: function rgb2hsv(hsv, rgb) {\n      //rgbをhsvに変換\n      var max = Math.max(rgb[0], Math.max(rgb[1], rgb[2]));\n      var min = Math.min(rgb[0], Math.min(rgb[1], rgb[2]));\n\n      if (max == min) {\n        hsv[0] = 0;\n      } else if (max == rgb[0]) {\n        hsv[0] = 1 / 6 * (rgb[1] - rgb[2]) / (max - min) + 1;\n      } else if (max == rgb[1]) {\n        hsv[0] = 1 / 6 * (rgb[2] - rgb[0]) / (max - min) + 2 / 6;\n      } else if (max == rgb[2]) {\n        hsv[0] = 1 / 6 * (rgb[0] - rgb[1]) / (max - min) + 4 / 6;\n      }\n\n      hsv[0] -= hsv[0] | 0;\n\n      if (max == 0) {\n        hsv[1] = 0;\n      } else {\n        hsv[1] = (max - min) / max;\n      }\n\n      hsv[2] = max;\n      return hsv;\n    }\n  }, {\n    key: \"init\",\n    value: function init(canvas, canvasgl, _inputarea) {\n      Util.canvasgl = canvasgl;\n      Util.canvas = canvas;\n\n      if (!Util.canvas || !Util.canvas.getContext) {\n        return false;\n      }\n\n      Util.SCREEN_W = Util.canvas.getAttribute('width');\n      Util.SCREEN_H = Util.canvas.getAttribute('height');\n      Util.ctx = Util.canvas.getContext('2d');\n      Util.ctx.clearRect(0, 0, Util.SCREEN_W, Util.SCREEN_H);\n      Util.imagedatacanvas = Util.createCanvas(1024, 1024);\n      Util.imagedatacontext = Util.imagedatacanvas.getContext('2d');\n      var inputarea = _inputarea;\n\n      if (inputarea) {\n        inputarea.onselect = function () {\n          return false;\n        };\n\n        inputarea.onselectstart = function () {\n          return false;\n        };\n      }\n\n      var setCursor = function setCursor(x, y) {\n        var target = Util.canvasgl;\n        var scalex = 0;\n        var scaley = 0;\n\n        if (target.clientWidth > 0) {\n          scalex = target.width / target.clientWidth;\n          scaley = target.height / target.clientHeight;\n        }\n\n        var rect = target.getBoundingClientRect(); //if(e.currentTarget.getBoundingClientRect){\n        //}\n\n        Util.cursorX = (x - rect.left) * scalex;\n        Util.cursorY = (y - rect.top) * scaley;\n      };\n\n      var tap = function tap() {};\n\n      var tapout = function tapout() {\n        Util.padX = 0;\n        Util.padY = 0;\n        virtualPad.style.display = \"none\";\n      };\n\n      Util.mouseMove = function (elem, func) {\n        if (!elem) return;\n        elem.addEventListener(\"pointermove\", function (e) {\n          e = e || window.event;\n          func(e);\n          e.preventDefault();\n        }, false);\n      };\n\n      Util.mouseDown = function (elem, func) {\n        if (!elem) return;\n        elem.addEventListener(\"pointerdown\", function (e) {\n          e = e || window.event;\n          func(e);\n          e.preventDefault();\n        });\n      };\n\n      Util.mouseUp = function (elem, func) {\n        elem.addEventListener(\"pointerup\", function (e) {\n          e = e || window.event;\n          func(e);\n        });\n      };\n\n      Util.mouseMove(inputarea, function (e) {\n        setCursor(e.pageX, e.pageY);\n\n        if (virtualPad.style.display === \"block\") {\n          var target = e.currentTarget;\n          Util.padX = (e.cursorX - virtualPad.offsetLeft) / virtualPad.offsetWidth * 2 - 1;\n          Util.padY = (e.cursorY - virtualPad.offsetTop) / virtualPad.offsetHeight * 2 - 1;\n          var l = Util.padX * Util.padX + Util.padY * Util.padY;\n\n          if (l > 1.0) {\n            l = Math.sqrt(l);\n            Util.padX = Util.padX / l;\n            Util.padY = Util.padY / l; //\t\t\t\t\tvirtualPad.style.left = e.relativeX - Util.padX * virtualPad.offsetWidth*0.5 + \"px\";\n            //\t\t\t\t\tvirtualPad.style.top= e.relativeY - Util.padY * virtualPad.offsetHeight*0.5 + \"px\";\n          }\n\n          setPad();\n        }\n      });\n      Util.mouseDown(inputarea, function (e) {\n        setCursor(e.pageX, e.pageY);\n\n        switch (e.button) {\n          case 0:\n            Util.pressOn = 1;\n            break;\n\n          case 2:\n            Util.pressOnRight = 1;\n            break;\n        }\n      });\n      Util.mouseUp(window, function (e) {\n        setCursor(e.pageX, e.pageY);\n\n        switch (e.button) {\n          case 0:\n            Util.pressOn = 0;\n            tapout();\n            break;\n\n          case 2:\n            Util.pressOnRight = 0;\n            break;\n        }\n\n        Util.keyflag[4] = 0;\n      }); //バーチャルパッド\n\n      var setPad = function setPad() {\n        virtualPadP.style.left = (Util.padX + 1.0) * 50 + \"%\";\n        virtualPadP.style.top = (Util.padY + 1.0) * 50 + \"%\";\n      };\n\n      var varea = document.getElementById(\"vertualPadArea\");\n      Util.mouseDown(varea, function (e) {\n        switch (e.button) {\n          case 0:\n            virtualPad.style.display = \"block\";\n            Util.padX = 0;\n            Util.padY = 0; //\t\t\t\tvirtualPad.style.left = e.relativeX+\"px\";\n            //\t\t\t\tvirtualPad.style.top= e.relativeY+ \"px\";\n\n            setPad();\n            e.stopPropagation();\n            break;\n        }\n      });\n\n      if (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/Android/i)) {} else {\n        var wheelfunc = function wheelfunc(e) {\n          e = e || window.event;\n\n          if (e.wheelDelta) {\n            Util.wheelDelta = e.wheelDelta / 120;\n            if (window.opera) Util.wheelDelta = -Util.wheelDelta;\n          } else if (e.detail) {\n            Util.wheelDelta = -e.detail / 3;\n          }\n\n          if (e.preventDefault) e.preventDefault(); //e.returnValue = false\n        };\n\n        if (window.addEventListener) window.addEventListener('DOMMouseScroll', wheelfunc, {\n          passive: true\n        });else if (document.attachEvent) document.attachEvent('onmousewheel', wheelfunc);else if (inputarea) inputarea.onmousewheel = wheelfunc;\n\n        document.body.onkeydown = function (e) {\n          e = e || window.event;\n          var code = e.keyCode;\n\n          if (Util.keymap[code] != null) {\n            Util.keyflag[Util.keymap[code]] = 1;\n          }\n\n          if (code == 13) {\n            Util.canvasgl.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT);\n\n            if (window.parent.screen.width / Util.canvasgl.width > window.parent.screen.height / Util.canvasgl.height) {\n              canvasgl.style.width = \"auto\";\n              canvasgl.style.height = \"100%\";\n            } else {\n              canvasgl.style.width = \"100%\";\n              canvasgl.style.height = \"auto\";\n            }\n          }\n        };\n\n        document.body.onkeyup = function (e) {\n          e = e || window.event;\n          var code = e.keyCode;\n\n          if (Util.keymap[code] != null) {\n            Util.keyflag[Util.keymap[code]] = 0;\n          }\n        };\n\n        document.body.onblur = function (e) {\n          e = e || window.event;\n          var code = e.keyCode;\n\n          for (var i = 0; i < Util.keyflag.length; i++) {\n            Util.keyflag[i] = 0;\n          }\n        };\n      }\n\n      virtualPad = document.createElement(\"div\");\n      virtualPad.style.backgroundColor = \"#ff0000\";\n      virtualPad.style.opacity = \"0.3\";\n      virtualPad.style.width = \"256px\";\n      virtualPad.style.height = \"256px\";\n      virtualPad.style.position = \"absolute\";\n      virtualPad.style.left = \"10px\";\n      virtualPad.style.top = \"10px\";\n      virtualPad.style.borderRadius = \"50%\";\n      virtualPad.style.zIndex = \"10\";\n      virtualPad.style.display = \"none\";\n      virtualPad.style.marginLeft = \"-128px\";\n      virtualPad.style.marginTop = \"-128px\";\n      if (inputarea) inputarea.appendChild(virtualPad);\n      virtualPadP = document.createElement(\"div\");\n      virtualPadP.style.backgroundColor = \"#00ff00\";\n      virtualPadP.style.width = \"32px\";\n      virtualPadP.style.height = \"32px\";\n      virtualPadP.style.position = \"absolute\";\n      virtualPadP.style.borderRadius = \"50%\";\n      virtualPadP.style.marginLeft = \"-16px\";\n      virtualPadP.style.marginTop = \"-16px\";\n      virtualPad.appendChild(virtualPadP);\n      virtualBtn = document.createElement(\"div\");\n      virtualBtn.style.backgroundColor = \"#0000ff\";\n      virtualBtn.style.opacity = \"0.25\";\n      virtualBtn.style.width = \"256px\";\n      virtualBtn.style.height = \"256px\";\n      virtualBtn.style.position = \"absolute\";\n      virtualBtn.style.right = \"10%\";\n      virtualBtn.style.bottom = \"20%\";\n      virtualBtn.style.borderRadius = \"50%\";\n      virtualBtn.style.zIndex = \"100\";\n      virtualBtn.style.display = \"none\";\n      virtualBtn.innerHTML = \"jump\";\n      if (inputarea) inputarea.appendChild(virtualBtn);\n\n      if (Util.enableVirtualBtn) {\n        virtualBtn.style.display = \"inline\";\n      }\n\n      if (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPod/i) || navigator.userAgent.match(/Android/i)) {\n        virtualBtn.addEventListener(\"touchstart\", function (e) {\n          e = e || window.event;\n          Util.keyflag[4] = 1;\n        }, false);\n        window.addEventListener(\"touchend\", function (e) {\n          e = e || window.event;\n          Util.keyflag[4] = 0;\n        }, false);\n        virtualBtn.addEventListener(\"touchmove\", function (e) {}, false);\n        virtualBtn.addEventListener(\"touchend\", function (e) {\n          Util.keyflag[4] = 0;\n        }, false);\n      } else {\n        virtualBtn.onmousedown = function (e) {\n          e = e || window.event;\n          Util.keyflag[4] = 1; //e.stopPropagation();\n        };\n\n        virtualBtn.onmouseup = function (e) {\n          e = e || window.event;\n          Util.keyflag[4] = 0;\n        };\n      }\n    }\n  }, {\n    key: \"setFps\",\n    value: function setFps(argfps, mf) {\n      Util.mainfunc = mf;\n      Util.fpsman = new _fpsman_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](argfps, function () {\n        Util.mainloop();\n      });\n      Util.pressCount = 0;\n    }\n  }, {\n    key: \"drawText\",\n    value: function drawText(target, x, y, text, img, sizex, sizey) {\n      var dx = x;\n      var dy = y;\n      var i, max;\n      var sx, sy;\n\n      for (i = 0, max = text.length; i < max; i++) {\n        sx = text.charCodeAt(i) - 32;\n        sy = (sx >> 4) * sizex;\n        sx = (sx & 0xf) * sizey;\n        target.drawImage(img, sx, sy, sizex, sizey, dx, dy, sizex, sizey);\n        dx = dx + sizex;\n      }\n    }\n  }, {\n    key: \"convertURLcode\",\n    value: function convertURLcode(str) {\n      var imax = str.length,\n          jmax,\n          i,\n          j,\n          charcode,\n          percent = '%'.charCodeAt(0),\n          decode = \"\",\n          sub;\n\n      for (i = 0; i < imax; i++) {\n        charcode = str.charCodeAt(i);\n\n        if (charcode == percent) {\n          i++;\n          charcode = parseInt(str.slice(i, i + 2), 16);\n\n          if ((charcode & 0xF0) == 0xE0) {\n            jmax = 2;\n            charcode = charcode & 0xf;\n          } else if ((charcode & 0xE0) == 0xC0) {\n            jmax = 1;\n            charcode = charcode & 0x1f;\n          } else {\n            jmax = 0;\n          }\n\n          i += 1;\n\n          for (j = 0; j < jmax; j++) {\n            i += 2;\n            charcode <<= 6;\n            charcode |= parseInt(str.slice(i, i + 2), 16) & 0x3f;\n            i += 1;\n          }\n        }\n\n        decode += String.fromCharCode(charcode);\n      }\n\n      return decode;\n    }\n  }, {\n    key: \"fireEvent\",\n    value: function fireEvent(elem, eventname, evt) {\n      if (document.all) {\n        elem.fireEvent(\"on\" + eventname);\n      } else {\n        if (!evt) {\n          evt = document.createEvent(\"Event\");\n        }\n\n        evt.initEvent(eventname, true, true);\n        elem.dispatchEvent(evt);\n      }\n    }\n  }, {\n    key: \"setText\",\n    value: function setText(elem, text) {\n      elem.innerText = text; //elem.textContent=text;\n      //elem.innerHTML=text;\n    }\n  }, {\n    key: \"getText\",\n    value: function getText(elem) {\n      return elem.textContent ? elem.textContent : elem.innerText;\n    }\n  }, {\n    key: \"stringToUtf8\",\n    value: function stringToUtf8(str) {\n      var utf8str = unescape(encodeURIComponent(str));\n      var utf8array = new Uint8Array(utf8str.length);\n\n      for (var i = 0; i < utf8str.length; i++) {\n        utf8array[i] = utf8str.charCodeAt(i);\n      }\n\n      return utf8array;\n    }\n  }, {\n    key: \"utf8ToString\",\n    value: function utf8ToString(array) {\n      var str = \"\";\n\n      for (var i = 0; i < array.length; i++) {\n        str += String.fromCharCode(array[i]);\n      }\n\n      return decodeURIComponent(escape(str));\n    }\n  }]);\n\n  return Util;\n}();\n\n_defineProperty(Util, \"SCREEN_W\", void 0);\n\n_defineProperty(Util, \"SCREEN_H\", void 0);\n\n_defineProperty(Util, \"imagedatacanvas\", void 0);\n\n_defineProperty(Util, \"imagedatacontext\", void 0);\n\n_defineProperty(Util, \"loadingCount\", 0);\n\n_defineProperty(Util, \"ctx\", null);\n\n_defineProperty(Util, \"canvas\", null);\n\n_defineProperty(Util, \"canvasgl\", null);\n\n_defineProperty(Util, \"cursorX\", 0);\n\n_defineProperty(Util, \"cursorY\", 0);\n\n_defineProperty(Util, \"padX\", 0);\n\n_defineProperty(Util, \"padY\", 0);\n\n_defineProperty(Util, \"wheelDelta\", 0);\n\n_defineProperty(Util, \"pressOn\", 0);\n\n_defineProperty(Util, \"pressCount\", 0);\n\n_defineProperty(Util, \"pressOnRight\", 0);\n\n_defineProperty(Util, \"pressCountRight\", 0);\n\n_defineProperty(Util, \"oldcursorX\", 0);\n\n_defineProperty(Util, \"oldcursorY\", 0);\n\n_defineProperty(Util, \"screenscale\", 1);\n\n_defineProperty(Util, \"tap\", 0);\n\n_defineProperty(Util, \"keyflag\", [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\n_defineProperty(Util, \"keyflagOld\", [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]);\n\n_defineProperty(Util, \"keymap\", keymap);\n\n_defineProperty(Util, \"enablePad\", 1);\n\n_defineProperty(Util, \"createCanvas\", function (width, height) {\n  var canvas = document.createElement(\"canvas\");\n\n  if (typeof G_vmlCanvasManager !== 'undefined') {\n    canvas = G_vmlCanvasManager.initElement(canvas);\n  }\n\n  canvas.setAttribute('width', width);\n  canvas.setAttribute('height', height);\n  return canvas;\n});\n\n_defineProperty(Util, \"hex2rgb\", function (rgb, hex) {\n  //16進数の文字列をrgbに変換\n  rgb[0] = parseInt(hex.slice(0, 2), 16) / 255;\n  rgb[1] = parseInt(hex.slice(2, 4), 16) / 255;\n  rgb[2] = parseInt(hex.slice(4, 6), 16) / 255;\n\n  if (isNaN(rgb[0])) {\n    rgb[0] = 0;\n  }\n\n  ;\n\n  if (isNaN(rgb[1])) {\n    rgb[1] = 0;\n  }\n\n  ;\n\n  if (isNaN(rgb[2])) {\n    rgb[2] = 0;\n  }\n\n  ;\n  return rgb;\n});\n\n_defineProperty(Util, \"createXMLHttpRequest\", function () {\n  if (window.XMLHttpRequest) {\n    return new XMLHttpRequest();\n  } else if (window.ActiveXObject) {\n    try {\n      return new ActiveXObject(\"Msxml2.XMLHTTP\");\n    } catch (e) {\n      try {\n        return new ActiveXObject(\"Microsoft.XMLHTTP\");\n      } catch (e2) {\n        return null;\n      }\n    }\n  } else {\n    return null;\n  }\n});\n\n_defineProperty(Util, \"getCurrent\", function () {\n  var current = \"/\";\n\n  if (document.currentScript) {\n    current = document.currentScript.src;\n  } else {\n    var scripts = document.getElementsByTagName('script'),\n        script = scripts[scripts.length - 1];\n\n    if (script.src) {\n      current = script.src;\n    }\n  }\n\n  current = current.substring(0, current.lastIndexOf('/') + 1);\n  return current;\n});\n\n_defineProperty(Util, \"loadJs\", function (path, func) {////var script = document.createElement('script');\n  ////script.type=\"module\"\n  ////script.src = path;\n  //loadingCount++;\n  //var _func = func;\n  //import(path)\n  //.then( function(){\n  //\tloadingCount--;\n  //\tif(_func){\n  //\t\t_func();\n  //\t}\n  //})\n  //.catch(function(){\n  //\tloadingCount--;\n  //})\n  ////document.head.appendChild(script);\n});\n\n\n\n//# sourceURL=webpack://calc/../lib/lib/util.js?");

/***/ }),

/***/ "../lib/lib/watcher.js":
/*!*****************************!*\
  !*** ../lib/lib/watcher.js ***!
  \*****************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Watcher; }\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"../lib/lib/util.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\n//変数監視\n\n\nvar Watch = /*#__PURE__*/function () {\n  function Watch(variable_root, variable_name, callback) {\n    _classCallCheck(this, Watch);\n\n    this.variable_root = variable_root;\n    this.variable_direction = variable_name.split(\".\");\n    this.callback = callback;\n    this.old_value = {};\n  }\n\n  _createClass(Watch, [{\n    key: \"getValue\",\n    value: function getValue(n) {\n      //監視対象の変数の値を取得\n      // n=1なら親を取得\n      if (!n) {\n        n = 0;\n      }\n\n      var value = this.variable_root;\n      var v = this.variable_direction;\n\n      for (var j = 0; j < v.length - n; j++) {\n        value = value[v[j]];\n\n        if (value == undefined) {\n          value = null;\n          break;\n        }\n      }\n\n      return value;\n    }\n  }, {\n    key: \"setValue\",\n    value: function setValue(value) {\n      //監視変数に値をセットする\n      var val = this.getValue(1); //対象の変数の親を取得\n\n      val[this.variable_direction[this.variable_direction.length - 1]] = value;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      //バインドされた変数の値をノード属性にセット\n      var value = this.getValue(0);\n\n      if (value && (value instanceof HTMLElement || value.nodeName)) {} else {\n        if (_typeof(value) === 'object') {\n          value = JSON.stringify(value);\n        }\n      }\n\n      this.change_flg = this.old_value !== value;\n      this.old_value = value;\n    }\n  }]);\n\n  return Watch;\n}();\n\nvar Watcher = /*#__PURE__*/function () {\n  function Watcher() {\n    _classCallCheck(this, Watcher);\n\n    this.watches = [];\n  }\n\n  _createClass(Watcher, [{\n    key: \"init\",\n    value: function init() {//初期化&バインド\n      //\t\tvar func =()=>{\n      //\t\t\tthis.refresh();\n      //\t\t\twindow.requestAnimationFrame(func);\n      //\t\t}\n      //\t\tfunc();\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(variable_root, variable_name, func) {\n      //監視変数を追加\n      var watch = new Watch(variable_root, variable_name, func);\n      this.watches.push(watch);\n      return watch;\n    }\n  }, {\n    key: \"refresh\",\n    value: function refresh() {\n      //監視対象をチェック\n      this.watches.forEach(function (w) {\n        w.refresh();\n      });\n    }\n  }]);\n\n  return Watcher;\n}();\n\n\n\n//# sourceURL=webpack://calc/../lib/lib/watcher.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	!function() {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = function(exports, definition) {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	!function() {
/******/ 		__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }
/******/ 	}();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	!function() {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = function(exports) {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	}();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;